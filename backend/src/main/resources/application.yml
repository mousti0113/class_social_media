spring:
  output:
    ansi:
      enabled: always
  application:
    name: backend
  datasource:
    url: ${JDBC_DATABASE_URL:jdbc:postgresql://localhost:5432/beetUs_db}
    username: ${DB_USERNAME:postgres}
    password: ${DB_PASSWORD:postgres}
    driver-class-name: org.postgresql.Driver

  jpa:
    hibernate:
      ddl-auto: ${DDL_AUTO:create-drop}
    properties:
      hibernate:
        dialect: org.hibernate.dialect.PostgreSQLDialect
    # PRODUZIONE: Disabilitare show-sql per performance
    show-sql: ${SHOW_SQL:false}
  security:
    user:
      name: ${SPRING_SECURITY_USER_NAME:admin}
      password: ${SPRING_SECURITY_USER_PASSWORD:admin}
  mail:
    host: ${MAIL_HOST}
    port: ${MAIL_PORT:587}
    username: ${MAIL_USERNAME}
    password: ${MAIL_PASSWORD}
    properties:
      mail:
        smtp:
          auth: true
          starttls:
            enable: true
            required: true
          ssl:
            trust: "*"
          connectiontimeout: 5000
          timeout: 5000
          writetimeout: 5000
jwt:
  # L'applicazione NON si avvier√† se questo valore rimane "default-secret"
  secret: ${JWT_SECRET:default-secret}
  # Access token validity: 30 minuti (1800000ms)
  # Il refresh automatico avviene 5 minuti prima della scadenza (vedi TokenRefreshService)
  access-token-expiration: ${JWT_ACCESS_EXPIRATION:1800000}
  refresh-token-expiration: 2592000000

cors:
  # CORS allowed origins - configurabile per ambiente
  # Supporta multiple origins separate da virgola
  # Esempio: http://localhost:4200,https://myprod.com,https://www.myprod.com
  allowed-origins: ${CORS_ALLOWED_ORIGINS:http://localhost:4200}

app:
  # Configurazione applicazione
  max-students: ${MAX_STUDENTS:17}
  frontend:
    url: ${APP_FRONTEND_URL:http://localhost:4200}

logging:
  level:
    root: ${LOG_LEVEL:INFO}
    com.example.backend: ${APP_LOG_LEVEL:DEBUG}
  # PRODUZIONE: Impostare LOG_LEVEL=WARN e APP_LOG_LEVEL=INFO

cloudinary:
  cloud-name: ${CLOUDINARY_CLOUD_NAME}
  api-key: ${CLOUDINARY_API_KEY}
  api-secret: ${CLOUDINARY_API_SECRET}
server:
  port: 8080
